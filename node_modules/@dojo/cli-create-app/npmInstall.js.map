{"version":3,"file":"npmInstall.js","sourceRoot":"","sources":["npmInstall.ts"],"names":[],"mappings":";;;AAAA,iCAA0B;AAC1B,MAAM,EAAE,GAAQ,OAAO,CAAC,aAAa,CAAC,CAAC;AACvC,MAAM,GAAG,GAAQ,OAAO,CAAC,KAAK,CAAC,CAAC;AAEhC;;QACC,MAAM,CAAC,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YACtC,MAAM,OAAO,GAAG,GAAG,CAAC;gBACnB,OAAO,EAAE,MAAM;gBACf,KAAK,EAAE,OAAO;gBACd,IAAI,EAAE,aAAa;aACnB,CAAC,CAAC,KAAK,EAAE,CAAC;YACX,EAAE,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,SAAS,CAAC,EAAE,EAAE,KAAK,EAAE,QAAQ,EAAE,CAAC;iBAC/C,EAAE,CAAC,MAAM,EAAE,UAAS,IAAY;gBAChC,EAAE,CAAC,CAAC,IAAI,KAAK,CAAC,CAAC,CAAC,CAAC;oBAChB,OAAO,CAAC,cAAc,CAAC,eAAK,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;oBAClD,MAAM,CAAC,IAAI,KAAK,CAAC,cAAc,IAAI,EAAE,CAAC,CAAC,CAAC;gBACzC,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACP,OAAO,CAAC,cAAc,CAAC,eAAK,CAAC,KAAK,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;oBACvD,OAAO,EAAE,CAAC;gBACX,CAAC;YACF,CAAC,CAAC;iBACD,EAAE,CAAC,OAAO,EAAE,CAAC,GAAU,EAAE,EAAE;gBAC3B,OAAO,CAAC,cAAc,CAAC,eAAK,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;gBAClD,MAAM,CAAC,GAAG,CAAC,CAAC;YACb,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC;IACJ,CAAC;CAAA;AAtBD,4BAsBC","sourcesContent":["import chalk from 'chalk';\nconst cs: any = require('cross-spawn');\nconst ora: any = require('ora');\n\nexport default async function() {\n\treturn new Promise((resolve, reject) => {\n\t\tconst spinner = ora({\n\t\t\tspinner: 'dots',\n\t\t\tcolor: 'white',\n\t\t\ttext: 'npm install'\n\t\t}).start();\n\t\tcs.spawn('npm', ['install'], { stdio: 'ignore' })\n\t\t\t.on('exit', function(code: Number) {\n\t\t\t\tif (code !== 0) {\n\t\t\t\t\tspinner.stopAndPersist(chalk.red.bold(' failed'));\n\t\t\t\t\treject(new Error(`exit code: ${code}`));\n\t\t\t\t} else {\n\t\t\t\t\tspinner.stopAndPersist(chalk.green.bold(' completed'));\n\t\t\t\t\tresolve();\n\t\t\t\t}\n\t\t\t})\n\t\t\t.on('error', (err: Error) => {\n\t\t\t\tspinner.stopAndPersist(chalk.red.bold(' failed'));\n\t\t\t\treject(err);\n\t\t\t});\n\t});\n}\n"]}